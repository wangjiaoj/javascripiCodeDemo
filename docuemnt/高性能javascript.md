```javascript
```

## 一、javascript的加载和运行
* 浏览器在遇到body标签之前，不会渲染页面的任何部分
* 每一个javascript文件都必须等待前一个javascript文件下载完成并运行完之后，才能开始下自己的下载过程
* H4为`<script>`添加一个扩展属性：defer。该属性指明元素中所包含的脚本不打算修改DOM，因此代码可以稍后执行。任何带有defer属性的`<script>`元素在DOM加载完成之前不会被执行。

## 二、数据访问
### 1、四种基本数据存储位置
* 直接量:字符串，数字，布尔值，对象，数组，函数，正则表达式，具有特殊意义的空值，以及未定义
* 变量：开发人员使用var关键字创建用于存储数据值
* 数组项：具有数字索引，存储一个javascript数组对象
* 对象成员：具有字符串索引，存储一个javascript对象
* 总的来说，直接量和局部变量的访问速度要快于数组项和对象成员的使用。

### 2、
#### 2.1 managing scope 管理作用域
#### 2.2 scope chains and identifier resolution 作用域链和标识符解析
* 每一个javascript函数都表示为对象，进一步说，它是一个函数实例。函数对象正如其他对象那样，拥有你可以编程访问的属性，和一些不能被程序访问，仅供javascript引擎使用的内部属性，其中一个内部属性是[[scope]],内部[[scope]]属性包含一个函数被创建的作用域中对象的合集，此合集被称为函数的作用域链，它决定哪些数据可由函数访问。
#### 2.3 执行环境
* 运行函数时建立一个内部对象，称作“运行期上下文”execute context(执行环境),一个运行期上下文定义了一个函数运行时的环境，对函数每次运行而言，每个运行期上下文都是独一的，多次调用一个函数会导致多次创建运行期上下文。函数执行完毕，运行期上下文就被销毁。
#### 2.4 scope chain augmentation 改变作用域链
* with 和try catch中的catch语句都会人为的改变运行期上下文的作用域链
  + 当try语句发生错误时，程序流自动转入catch块，并将异常对象推入作用域链前端的一个可变对象中。在catch块中，函数的所有局部变量现在被放在第二个作用域链对象中。
  + 当代码流执行到with表达式时，运行期上下文的作用域被临时改变了。一个新的可变对象将被创建，它包含指定对象的所有属性。此对象被插入到作用域链的前端，意味着现在函数的所有局部变量都被推入第二个作用域链对象中，所以访问代价更高了。
### 2.5闭包 作用域和内存

### 3、总结

* 可以将常用的对象成员，数组项，和域外变量存入局部变量中，然后，访问局部变量的速度会快于那些原始变量。



## 三、DOM scripting DOM 编程
对DOM操作代价昂贵，在富网页应用中通常是一个性能瓶颈。
访问和修改DOM元素
修改DOM元素，造成重绘和重新排版
通过DOM事件处理用户响应

### 1、DOM操作缓慢的原因
浏览器通常要求DOM实现和javascript实现保持相互独立，两个独立的部分以功能接口链接就会带来性能损耗。因此造成了DOM操作天生就慢
### 2、HTML collection(HTML 集合)
HTML集合是用于存放DOM节点引用的类型数组对象，下面函数的返回值就是一个集合：
document.getElementsByName()  document.getElementsByClassName()等
* 这些方法和属性返回HTMLCollection对象，是一种类似数组的列表。但他们不是数组，但提供了length属性。
* HTML集合是一个“虚拟存在，意味着当底层文档更新时，它们将自动更新”。HTML集合实际上在查询文档，当你更新信息时，每次都要重复执行这种查询操作。例如读取集合中元素的数目(length),当每次迭代过程访问集合的length属性时，都会导致集合更新，在所有浏览器上都会产生明显的性能损耗。
* 一般来说，对于任何类型的DOM访问,如果同一个DOM属性或方法被访问一次以上，最好使用一个局部变量缓存此DOM成员。当遍历一个集合时，第一个优化是将集合引用存储于局部变量，并在循环外缓存length属性。然后，如果在循环体中多次访问同一个集合元素，那么使用局部变量缓存它。
### 3、walking DOM(DOM 漫谈)